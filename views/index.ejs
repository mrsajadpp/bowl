<style>
  :root {
    --primary-color: #654cbd;
    --text-color: #333;
    --highlight-color: #654cbd;
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: Arial, sans-serif;
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
    margin-top: 15px;
  }

  .card {
    padding: 1rem;
    background: #fff;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: flex-start;
    border: 1px solid #ccc;
  }

  .card .number {
    font-size: 1.5rem;
    color: var(--highlight-color);
    font-weight: bold;
  }

  .card .category {
    font-size: 1.2rem;
    font-weight: 600;
    margin-top: 0.5rem;
    color: var(--text-color);
  }

  .highlight {
    color: var(--highlight-color);
  }

  @media (max-width: 768px) {
    .grid {
      grid-template-columns: repeat(2, 1fr);
    }

    .card {
      padding: 0.8rem;
    }

    .card .number {
      font-size: 1.3rem;
    }

    .card .category {
      font-size: 1rem;
    }
  }

  .card .number.green {
    color: green;
  }

  .card .number.red {
    color: red;
  }
</style>

<div class="grid">
  <% 
    function formatCategory(category) {
      // Replace underscores with spaces and capitalize each word
      return category
        .split('_')
        .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())
        .join(' ');
    }
  %>

  <% if (typeof totalReceived !== 'undefined' && totalReceived !== null) { %>
    <div class="card">
      <div class="number green">₹<%= totalReceived %></div>
      <div class="category">Total Income</div>
    </div>
  <% } %>

  <% if (typeof totalLoss !== 'undefined' && totalLoss !== null) { %>
    <div class="card">
      <div class="number red">₹<%= totalLoss %></div>
      <div class="category">Total Expense</div>
    </div>
  <% } %>

  <% if (typeof remainingAmount !== 'undefined' && remainingAmount !== null) { %>
    <div class="card">
      <div class="number">₹<%= remainingAmount %></div>
      <div class="category">Remaining Balance</div>
    </div>
  <% } %>

  <% if (typeof totalReceivedMonth !== 'undefined' && totalReceivedMonth !== null) { %>
    <div class="card">
      <div class="number green">₹<%= totalReceivedMonth %></div>
      <div class="category">Income This Month</div>
    </div>
  <% } %>

  <% if (typeof totalLossMonth !== 'undefined' && totalLossMonth !== null) { %>
    <div class="card">
      <div class="number red">₹<%= totalLossMonth %></div>
      <div class="category">Expense This Month</div>
    </div>
  <% } %>

  <% if (typeof remainingAmountMonth !== 'undefined' && remainingAmountMonth !== null) { %>
    <div class="card">
      <div class="number">₹<%= remainingAmountMonth %></div>
      <div class="category">Remaining This Month</div>
    </div>
  <% } %>

  <% if (typeof totalReceivedToday !== 'undefined' && totalReceivedToday !== null) { %>
    <div class="card">
      <div class="number green">₹<%= totalReceivedToday %></div>
      <div class="category">Income Today</div>
    </div>
  <% } %>

  <% if (typeof totalLossToday !== 'undefined' && totalLossToday !== null) { %>
    <div class="card">
      <div class="number red">₹<%= totalLossToday %></div>
      <div class="category">Expense Today</div>
    </div>
  <% } %>

  <% if (typeof remainingAmountToday !== 'undefined' && remainingAmountToday !== null) { %>
    <div class="card">
      <div class="number">₹<%= remainingAmountToday %></div>
      <div class="category">Remaining Balance Today</div>
    </div>
  <% } %>

  <% if (typeof mostSpentCategoryAmount !== 'undefined' && mostSpentCategoryAmount !== null && typeof mostSpentCategoryThisMonth !== 'undefined' && mostSpentCategoryThisMonth !== null) { %>
    <div class="card">
      <div class="number red">₹<%= mostSpentCategoryAmount %></div>
      <div class="category">Most Spent Last Month: <span class="highlight"><%= formatCategory(mostSpentCategoryThisMonth) %></span></div>
    </div>
  <% } %>

  <% if (typeof mostReceivedCategoryAmount !== 'undefined' && mostReceivedCategoryAmount !== null && typeof mostReceivedCategoryLastMonth !== 'undefined' && mostReceivedCategoryLastMonth !== null) { %>
    <div class="card">
      <div class="number green">₹<%= mostReceivedCategoryAmount %></div>
      <div class="category">Most Income Last Month: <span class="highlight"><%= formatCategory(mostReceivedCategoryLastMonth) %></span></div>
    </div>
  <% } %>
</div>